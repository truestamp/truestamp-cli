function n() {
  return (n = Object.assign || function(n2) {
    for (var t2 = 1; t2 < arguments.length; t2++) {
      var r2 = arguments[t2];
      for (var e2 in r2)
        Object.prototype.hasOwnProperty.call(r2, e2) && (n2[e2] = r2[e2]);
    }
    return n2;
  }).apply(this, arguments);
}
function t(n2, t2) {
  n2.prototype = Object.create(t2.prototype), n2.prototype.constructor = n2, n2.__proto__ = t2;
}
var r = {__proto__: null, default: function(n2, t2) {
  return t2 = t2 || {}, new Promise(function(r2, e2) {
    var u2 = new XMLHttpRequest(), o2 = [], i2 = [], c2 = {}, s2 = function() {
      return {ok: (u2.status / 100 | 0) == 2, statusText: u2.statusText, status: u2.status, url: u2.responseURL, text: function() {
        return Promise.resolve(u2.responseText);
      }, json: function() {
        return Promise.resolve(u2.responseText).then(JSON.parse);
      }, blob: function() {
        return Promise.resolve(new Blob([u2.response]));
      }, clone: s2, headers: {keys: function() {
        return o2;
      }, entries: function() {
        return i2;
      }, get: function(n3) {
        return c2[n3.toLowerCase()];
      }, has: function(n3) {
        return n3.toLowerCase() in c2;
      }}};
    };
    for (var f2 in u2.open(t2.method || "get", n2, true), u2.onload = function() {
      u2.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm, function(n3, t3, r3) {
        o2.push(t3 = t3.toLowerCase()), i2.push([t3, r3]), c2[t3] = c2[t3] ? c2[t3] + "," + r3 : r3;
      }), r2(s2());
    }, u2.onerror = e2, u2.withCredentials = t2.credentials == "include", t2.headers)
      u2.setRequestHeader(f2, t2.headers[f2]);
    u2.send(t2.body || null);
  });
}}, e = self.fetch || (self.fetch = r.default || r), u = function() {
  function t2(n2) {
    this.accessToken = n2.accessToken, this.apiEnv = n2.apiEnv || "production";
  }
  return t2.prototype.request = function(t3, r2) {
    try {
      var u2 = function(n2) {
        switch (n2) {
          case "development":
            return "https://dev-api.truestamp.com/v1/";
          case "staging":
            return "https://staging-api.truestamp.com/v1/";
          case "":
          case "production":
            return "https://api.truestamp.com/v1/";
          default:
            throw new Error("invalid environment : '" + n2 + "'");
        }
      }(this.apiEnv) + t3, o2 = n({}, r2, {headers: {Authorization: "Bearer " + this.accessToken, "Content-type": "application/json", Accept: "application/json"}});
      return Promise.resolve(e(u2, o2)).then(function(n2) {
        var t4;
        function r3(r4) {
          if (t4)
            return r4;
          throw new Error(n2.status + " : " + n2.statusText);
        }
        var e2 = function() {
          if (n2.ok)
            return n2.status === 204 ? (t4 = 1, new Promise(function(n3) {
              n3(JSON.parse("{}"));
            })) : function(r4, e3) {
              try {
                var u3 = Promise.resolve(n2.json()).then(function(n3) {
                  return n3.data && Array.isArray(n3.data) ? (t4 = 1, new Promise(function(t5) {
                    t5(n3.data);
                  })) : (t4 = 1, new Promise(function(t5) {
                    t5(n3);
                  }));
                });
              } catch (n3) {
                return e3(n3);
              }
              return u3 && u3.then ? u3.then(void 0, e3) : u3;
            }(0, function(n3) {
              throw new Error(n3.message);
            });
        }();
        return e2 && e2.then ? e2.then(r3) : r3(e2);
      });
    } catch (n2) {
      return Promise.reject(n2);
    }
  }, t2;
}(), o = function(n2) {
  function r2() {
    return n2.apply(this, arguments) || this;
  }
  return t(r2, n2), r2.prototype.getHeartbeat = function() {
    return this.request("heartbeat");
  }, r2;
}(u), i = Object.prototype.hasOwnProperty;
function c(n2) {
  try {
    return encodeURIComponent(n2);
  } catch (n3) {
    return null;
  }
}
var s, f = function(n2, t2) {
  t2 = t2 || "";
  var r2, e2, u2 = [];
  for (e2 in typeof t2 != "string" && (t2 = "?"), n2)
    if (i.call(n2, e2)) {
      if ((r2 = n2[e2]) || r2 != null && !isNaN(r2) || (r2 = ""), e2 = c(e2), r2 = c(r2), e2 === null || r2 === null)
        continue;
      u2.push(e2 + "=" + r2);
    }
  return u2.length ? t2 + u2.join("&") : "";
}, a = function(n2) {
  function r2() {
    return n2.apply(this, arguments) || this;
  }
  t(r2, n2);
  var e2 = r2.prototype;
  return e2.createDocument = function(n3) {
    return this.request("documents", {method: "POST", body: JSON.stringify(n3)});
  }, e2.getAllDocuments = function(n3) {
    var t2 = "documents";
    return n3 && (t2 += f(n3, true)), this.request(t2);
  }, e2.getDocument = function(n3, t2) {
    var r3 = "documents/" + n3;
    return t2 && (r3 += f(t2, true)), this.request(r3);
  }, e2.updateDocument = function(n3, t2) {
    return this.request("documents/" + n3, {method: "PUT", body: JSON.stringify(t2)});
  }, e2.deleteDocument = function(n3) {
    return this.request("documents/" + n3, {method: "DELETE"});
  }, e2.getDocumentRevisions = function(n3, t2) {
    var r3 = "documents/" + n3 + "/revisions";
    return t2 && (r3 += f(t2, true)), this.request(r3);
  }, r2;
}(u), h = function(n2) {
  function r2() {
    return n2.apply(this, arguments) || this;
  }
  return t(r2, n2), r2;
}(u);
s = h, [o, a].forEach(function(n2) {
  Object.getOwnPropertyNames(n2.prototype).forEach(function(t2) {
    Object.defineProperty(s.prototype, t2, Object.getOwnPropertyDescriptor(n2.prototype, t2));
  });
});
export default h;
