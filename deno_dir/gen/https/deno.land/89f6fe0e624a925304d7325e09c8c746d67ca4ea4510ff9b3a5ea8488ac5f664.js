import { getDescription } from "../_utils.ts";
import { FileType } from "../types/file.ts";
/** Fish completions generator. */ export class FishCompletionsGenerator {
    /** Generates fish completions script for given command. */ static generate(cmd) {
        return new FishCompletionsGenerator(cmd).generate();
    }
    constructor(cmd){
        this.cmd = cmd;
    }
    /** Generates fish completions script. */ generate() {
        const path = this.cmd.getPath();
        const version = this.cmd.getVersion() ? ` v${this.cmd.getVersion()}` : "";
        return `#!/usr/bin/env fish
# fish completion support for ${path}${version}

function __fish_${replaceSpecialChars(this.cmd.getName())}_using_command
  set cmds ${getCommandFnNames(this.cmd).join(" ")}
  set words (commandline -opc)
  set cmd "_"
  for word in $words
    switch $word
      case '-*'
        continue
      case '*'
        set word (string replace -r -a '\\W' '_' $word)
        set cmd_tmp $cmd"_$word"
        if contains $cmd_tmp $cmds
          set cmd $cmd_tmp
        end
    end
  end
  if [ "$cmd" = "$argv[1]" ]
    return 0
  end
  return 1
end

${this.generateCompletions(this.cmd).trim()}`;
    }
    generateCompletions(command) {
        const parent = command.getParent();
        let result = ``;
        if (parent) {
            // command
            result += "\n" + this.complete(parent, {
                description: command.getShortDescription(),
                arguments: command.getName()
            });
        }
        // arguments
        const commandArgs = command.getArguments();
        if (commandArgs.length) {
            result += "\n" + this.complete(command, {
                arguments: commandArgs.length ? this.getCompletionCommand(command, commandArgs[0]) : undefined
            });
        }
        // options
        for (const option of command.getOptions(false)){
            result += "\n" + this.completeOption(command, option);
        }
        for (const subCommand of command.getCommands(false)){
            result += this.generateCompletions(subCommand);
        }
        return result;
    }
    completeOption(command, option) {
        const shortOption = option.flags.find((flag)=>flag.length === 2)?.replace(/^(-)+/, "");
        const longOption = option.flags.find((flag)=>flag.length > 2)?.replace(/^(-)+/, "");
        return this.complete(command, {
            description: getDescription(option.description),
            shortOption: shortOption,
            longOption: longOption,
            // required: option.requiredValue,
            required: true,
            standalone: option.standalone,
            arguments: option.args.length ? this.getCompletionCommand(command, option.args[0]) : undefined
        });
    }
    complete(command, options) {
        const cmd = [
            "complete"
        ];
        cmd.push("-c", this.cmd.getName());
        cmd.push("-n", `'__fish_${replaceSpecialChars(this.cmd.getName())}_using_command __${replaceSpecialChars(command.getPath())}'`);
        options.shortOption && cmd.push("-s", options.shortOption);
        options.longOption && cmd.push("-l", options.longOption);
        options.standalone && cmd.push("-x");
        cmd.push("-k");
        cmd.push("-f");
        if (options.arguments) {
            options.required && cmd.push("-r");
            cmd.push("-a", options.arguments);
        }
        options.description && cmd.push("-d", `'${getDescription(options.description, true)}'`);
        return cmd.join(" ");
    }
    getCompletionCommand(cmd, arg) {
        const type = cmd.getType(arg.type);
        if (type && type.handler instanceof FileType) {
            return `'(__fish_complete_path)'`;
        }
        return `'(${this.cmd.getName()} completions complete ${arg.action + " " + getCompletionsPath(cmd)})'`;
    }
    cmd;
}
function getCommandFnNames(cmd, cmds = []) {
    cmds.push(`__${replaceSpecialChars(cmd.getPath())}`);
    cmd.getCommands(false).forEach((command)=>{
        getCommandFnNames(command, cmds);
    });
    return cmds;
}
function getCompletionsPath(command) {
    return command.getPath().split(" ").slice(1).join(" ");
}
function replaceSpecialChars(str) {
    return str.replace(/[^a-zA-Z0-9]/g, "_");
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvY2xpZmZ5QHYwLjI0LjIvY29tbWFuZC9jb21wbGV0aW9ucy9fZmlzaF9jb21wbGV0aW9uc19nZW5lcmF0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RGVzY3JpcHRpb24gfSBmcm9tIFwiLi4vX3V0aWxzLnRzXCI7XG5pbXBvcnQgdHlwZSB7IENvbW1hbmQgfSBmcm9tIFwiLi4vY29tbWFuZC50c1wiO1xuaW1wb3J0IHR5cGUgeyBJQXJndW1lbnQsIElPcHRpb24gfSBmcm9tIFwiLi4vdHlwZXMudHNcIjtcbmltcG9ydCB7IEZpbGVUeXBlIH0gZnJvbSBcIi4uL3R5cGVzL2ZpbGUudHNcIjtcblxuLyoqIEdlbmVyYXRlcyBmaXNoIGNvbXBsZXRpb25zIHNjcmlwdC4gKi9cbmludGVyZmFjZSBDb21wbGV0ZU9wdGlvbnMge1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgc2hvcnRPcHRpb24/OiBzdHJpbmc7XG4gIGxvbmdPcHRpb24/OiBzdHJpbmc7XG4gIHJlcXVpcmVkPzogYm9vbGVhbjtcbiAgc3RhbmRhbG9uZT86IGJvb2xlYW47XG4gIGFyZ3VtZW50cz86IHN0cmluZztcbn1cblxuLyoqIEZpc2ggY29tcGxldGlvbnMgZ2VuZXJhdG9yLiAqL1xuZXhwb3J0IGNsYXNzIEZpc2hDb21wbGV0aW9uc0dlbmVyYXRvciB7XG4gIC8qKiBHZW5lcmF0ZXMgZmlzaCBjb21wbGV0aW9ucyBzY3JpcHQgZm9yIGdpdmVuIGNvbW1hbmQuICovXG4gIHB1YmxpYyBzdGF0aWMgZ2VuZXJhdGUoY21kOiBDb21tYW5kKSB7XG4gICAgcmV0dXJuIG5ldyBGaXNoQ29tcGxldGlvbnNHZW5lcmF0b3IoY21kKS5nZW5lcmF0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgY21kOiBDb21tYW5kKSB7fVxuXG4gIC8qKiBHZW5lcmF0ZXMgZmlzaCBjb21wbGV0aW9ucyBzY3JpcHQuICovXG4gIHByaXZhdGUgZ2VuZXJhdGUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5jbWQuZ2V0UGF0aCgpO1xuICAgIGNvbnN0IHZlcnNpb246IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY21kLmdldFZlcnNpb24oKVxuICAgICAgPyBgIHYke3RoaXMuY21kLmdldFZlcnNpb24oKX1gXG4gICAgICA6IFwiXCI7XG5cbiAgICByZXR1cm4gYCMhL3Vzci9iaW4vZW52IGZpc2hcbiMgZmlzaCBjb21wbGV0aW9uIHN1cHBvcnQgZm9yICR7cGF0aH0ke3ZlcnNpb259XG5cbmZ1bmN0aW9uIF9fZmlzaF8ke3JlcGxhY2VTcGVjaWFsQ2hhcnModGhpcy5jbWQuZ2V0TmFtZSgpKX1fdXNpbmdfY29tbWFuZFxuICBzZXQgY21kcyAke2dldENvbW1hbmRGbk5hbWVzKHRoaXMuY21kKS5qb2luKFwiIFwiKX1cbiAgc2V0IHdvcmRzIChjb21tYW5kbGluZSAtb3BjKVxuICBzZXQgY21kIFwiX1wiXG4gIGZvciB3b3JkIGluICR3b3Jkc1xuICAgIHN3aXRjaCAkd29yZFxuICAgICAgY2FzZSAnLSonXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICBjYXNlICcqJ1xuICAgICAgICBzZXQgd29yZCAoc3RyaW5nIHJlcGxhY2UgLXIgLWEgJ1xcXFxXJyAnXycgJHdvcmQpXG4gICAgICAgIHNldCBjbWRfdG1wICRjbWRcIl8kd29yZFwiXG4gICAgICAgIGlmIGNvbnRhaW5zICRjbWRfdG1wICRjbWRzXG4gICAgICAgICAgc2V0IGNtZCAkY21kX3RtcFxuICAgICAgICBlbmRcbiAgICBlbmRcbiAgZW5kXG4gIGlmIFsgXCIkY21kXCIgPSBcIiRhcmd2WzFdXCIgXVxuICAgIHJldHVybiAwXG4gIGVuZFxuICByZXR1cm4gMVxuZW5kXG5cbiR7dGhpcy5nZW5lcmF0ZUNvbXBsZXRpb25zKHRoaXMuY21kKS50cmltKCl9YDtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVDb21wbGV0aW9ucyhjb21tYW5kOiBDb21tYW5kKTogc3RyaW5nIHtcbiAgICBjb25zdCBwYXJlbnQ6IENvbW1hbmQgfCB1bmRlZmluZWQgPSBjb21tYW5kLmdldFBhcmVudCgpO1xuICAgIGxldCByZXN1bHQgPSBgYDtcblxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIC8vIGNvbW1hbmRcbiAgICAgIHJlc3VsdCArPSBcIlxcblwiICsgdGhpcy5jb21wbGV0ZShwYXJlbnQsIHtcbiAgICAgICAgZGVzY3JpcHRpb246IGNvbW1hbmQuZ2V0U2hvcnREZXNjcmlwdGlvbigpLFxuICAgICAgICBhcmd1bWVudHM6IGNvbW1hbmQuZ2V0TmFtZSgpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gYXJndW1lbnRzXG4gICAgY29uc3QgY29tbWFuZEFyZ3MgPSBjb21tYW5kLmdldEFyZ3VtZW50cygpO1xuICAgIGlmIChjb21tYW5kQXJncy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdCArPSBcIlxcblwiICsgdGhpcy5jb21wbGV0ZShjb21tYW5kLCB7XG4gICAgICAgIGFyZ3VtZW50czogY29tbWFuZEFyZ3MubGVuZ3RoXG4gICAgICAgICAgPyB0aGlzLmdldENvbXBsZXRpb25Db21tYW5kKGNvbW1hbmQsIGNvbW1hbmRBcmdzWzBdKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gb3B0aW9uc1xuICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIGNvbW1hbmQuZ2V0T3B0aW9ucyhmYWxzZSkpIHtcbiAgICAgIHJlc3VsdCArPSBcIlxcblwiICsgdGhpcy5jb21wbGV0ZU9wdGlvbihjb21tYW5kLCBvcHRpb24pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qgc3ViQ29tbWFuZCBvZiBjb21tYW5kLmdldENvbW1hbmRzKGZhbHNlKSkge1xuICAgICAgcmVzdWx0ICs9IHRoaXMuZ2VuZXJhdGVDb21wbGV0aW9ucyhzdWJDb21tYW5kKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBjb21wbGV0ZU9wdGlvbihjb21tYW5kOiBDb21tYW5kLCBvcHRpb246IElPcHRpb24pIHtcbiAgICBjb25zdCBzaG9ydE9wdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkID0gb3B0aW9uLmZsYWdzXG4gICAgICAuZmluZCgoZmxhZykgPT4gZmxhZy5sZW5ndGggPT09IDIpXG4gICAgICA/LnJlcGxhY2UoL14oLSkrLywgXCJcIik7XG4gICAgY29uc3QgbG9uZ09wdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkID0gb3B0aW9uLmZsYWdzXG4gICAgICAuZmluZCgoZmxhZykgPT4gZmxhZy5sZW5ndGggPiAyKVxuICAgICAgPy5yZXBsYWNlKC9eKC0pKy8sIFwiXCIpO1xuXG4gICAgcmV0dXJuIHRoaXMuY29tcGxldGUoY29tbWFuZCwge1xuICAgICAgZGVzY3JpcHRpb246IGdldERlc2NyaXB0aW9uKG9wdGlvbi5kZXNjcmlwdGlvbiksXG4gICAgICBzaG9ydE9wdGlvbjogc2hvcnRPcHRpb24sXG4gICAgICBsb25nT3B0aW9uOiBsb25nT3B0aW9uLFxuICAgICAgLy8gcmVxdWlyZWQ6IG9wdGlvbi5yZXF1aXJlZFZhbHVlLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBzdGFuZGFsb25lOiBvcHRpb24uc3RhbmRhbG9uZSxcbiAgICAgIGFyZ3VtZW50czogb3B0aW9uLmFyZ3MubGVuZ3RoXG4gICAgICAgID8gdGhpcy5nZXRDb21wbGV0aW9uQ29tbWFuZChjb21tYW5kLCBvcHRpb24uYXJnc1swXSlcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNvbXBsZXRlKGNvbW1hbmQ6IENvbW1hbmQsIG9wdGlvbnM6IENvbXBsZXRlT3B0aW9ucykge1xuICAgIGNvbnN0IGNtZCA9IFtcImNvbXBsZXRlXCJdO1xuICAgIGNtZC5wdXNoKFwiLWNcIiwgdGhpcy5jbWQuZ2V0TmFtZSgpKTtcbiAgICBjbWQucHVzaChcbiAgICAgIFwiLW5cIixcbiAgICAgIGAnX19maXNoXyR7cmVwbGFjZVNwZWNpYWxDaGFycyh0aGlzLmNtZC5nZXROYW1lKCkpfV91c2luZ19jb21tYW5kIF9fJHtcbiAgICAgICAgcmVwbGFjZVNwZWNpYWxDaGFycyhjb21tYW5kLmdldFBhdGgoKSlcbiAgICAgIH0nYCxcbiAgICApO1xuICAgIG9wdGlvbnMuc2hvcnRPcHRpb24gJiYgY21kLnB1c2goXCItc1wiLCBvcHRpb25zLnNob3J0T3B0aW9uKTtcbiAgICBvcHRpb25zLmxvbmdPcHRpb24gJiYgY21kLnB1c2goXCItbFwiLCBvcHRpb25zLmxvbmdPcHRpb24pO1xuICAgIG9wdGlvbnMuc3RhbmRhbG9uZSAmJiBjbWQucHVzaChcIi14XCIpO1xuICAgIGNtZC5wdXNoKFwiLWtcIik7XG4gICAgY21kLnB1c2goXCItZlwiKTtcbiAgICBpZiAob3B0aW9ucy5hcmd1bWVudHMpIHtcbiAgICAgIG9wdGlvbnMucmVxdWlyZWQgJiYgY21kLnB1c2goXCItclwiKTtcbiAgICAgIGNtZC5wdXNoKFwiLWFcIiwgb3B0aW9ucy5hcmd1bWVudHMpO1xuICAgIH1cbiAgICBvcHRpb25zLmRlc2NyaXB0aW9uICYmXG4gICAgICBjbWQucHVzaChcIi1kXCIsIGAnJHtnZXREZXNjcmlwdGlvbihvcHRpb25zLmRlc2NyaXB0aW9uLCB0cnVlKX0nYCk7XG4gICAgcmV0dXJuIGNtZC5qb2luKFwiIFwiKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q29tcGxldGlvbkNvbW1hbmQoY21kOiBDb21tYW5kLCBhcmc6IElBcmd1bWVudCk6IHN0cmluZyB7XG4gICAgY29uc3QgdHlwZSA9IGNtZC5nZXRUeXBlKGFyZy50eXBlKTtcbiAgICBpZiAodHlwZSAmJiB0eXBlLmhhbmRsZXIgaW5zdGFuY2VvZiBGaWxlVHlwZSkge1xuICAgICAgcmV0dXJuIGAnKF9fZmlzaF9jb21wbGV0ZV9wYXRoKSdgO1xuICAgIH1cbiAgICByZXR1cm4gYCcoJHt0aGlzLmNtZC5nZXROYW1lKCl9IGNvbXBsZXRpb25zIGNvbXBsZXRlICR7XG4gICAgICBhcmcuYWN0aW9uICsgXCIgXCIgKyBnZXRDb21wbGV0aW9uc1BhdGgoY21kKVxuICAgIH0pJ2A7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29tbWFuZEZuTmFtZXMoXG4gIGNtZDogQ29tbWFuZCxcbiAgY21kczogQXJyYXk8c3RyaW5nPiA9IFtdLFxuKTogQXJyYXk8c3RyaW5nPiB7XG4gIGNtZHMucHVzaChgX18ke3JlcGxhY2VTcGVjaWFsQ2hhcnMoY21kLmdldFBhdGgoKSl9YCk7XG4gIGNtZC5nZXRDb21tYW5kcyhmYWxzZSkuZm9yRWFjaCgoY29tbWFuZCkgPT4ge1xuICAgIGdldENvbW1hbmRGbk5hbWVzKGNvbW1hbmQsIGNtZHMpO1xuICB9KTtcbiAgcmV0dXJuIGNtZHM7XG59XG5cbmZ1bmN0aW9uIGdldENvbXBsZXRpb25zUGF0aChjb21tYW5kOiBDb21tYW5kKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNvbW1hbmQuZ2V0UGF0aCgpXG4gICAgLnNwbGl0KFwiIFwiKVxuICAgIC5zbGljZSgxKVxuICAgIC5qb2luKFwiIFwiKTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVNwZWNpYWxDaGFycyhzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW15hLXpBLVowLTldL2csIFwiX1wiKTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLGNBQWMsUUFBUSxjQUFjLENBQUM7QUFHOUMsU0FBUyxRQUFRLFFBQVEsa0JBQWtCLENBQUM7QUFZNUMsa0NBQWtDLENBQ2xDLE9BQU8sTUFBTSx3QkFBd0I7SUFDbkMsMkRBQTJELENBQzNELE9BQWMsUUFBUSxDQUFDLEdBQVksRUFBRTtRQUNuQyxPQUFPLElBQUksd0JBQXdCLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7S0FDckQ7SUFFRCxZQUE4QixHQUFZLENBQUU7YUFBZCxHQUFZLEdBQVosR0FBWTtLQUFJO0lBRTlDLHlDQUF5QyxDQUN6QyxBQUFRLFFB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