import { fromFileUrl } from "../path.ts";
export function symlink(target, path, typeOrCallback, maybeCallback) {
    target = target instanceof URL ? fromFileUrl(target) : target;
    path = path instanceof URL ? fromFileUrl(path) : path;
    const type = typeof typeOrCallback === "string"
        ? typeOrCallback
        : "file";
    const callback = typeof typeOrCallback === "function"
        ? typeOrCallback
        : maybeCallback;
    if (!callback)
        throw new Error("No callback function supplied");
    Deno.symlink(target, path, { type }).then(() => callback(null), callback);
}
export function symlinkSync(target, path, type) {
    target = target instanceof URL ? fromFileUrl(target) : target;
    path = path instanceof URL ? fromFileUrl(path) : path;
    type = type || "file";
    Deno.symlinkSync(target, path, { type });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX2ZzX3N5bWxpbmsuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJfZnNfc3ltbGluay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBSXpDLE1BQU0sVUFBVSxPQUFPLENBQ3JCLE1BQW9CLEVBQ3BCLElBQWtCLEVBQ2xCLGNBQStDLEVBQy9DLGFBQWlDO0lBRWpDLE1BQU0sR0FBRyxNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUM5RCxJQUFJLEdBQUcsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFFdEQsTUFBTSxJQUFJLEdBQWdCLE9BQU8sY0FBYyxLQUFLLFFBQVE7UUFDMUQsQ0FBQyxDQUFDLGNBQWM7UUFDaEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUVYLE1BQU0sUUFBUSxHQUFzQixPQUFPLGNBQWMsS0FBSyxVQUFVO1FBQ3RFLENBQUMsQ0FBQyxjQUFjO1FBQ2hCLENBQUMsQ0FBRSxhQUFtQyxDQUFDO0lBRXpDLElBQUksQ0FBQyxRQUFRO1FBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0lBRWhFLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUM1RSxDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FDekIsTUFBb0IsRUFDcEIsSUFBa0IsRUFDbEIsSUFBa0I7SUFFbEIsTUFBTSxHQUFHLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQzlELElBQUksR0FBRyxJQUFJLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUN0RCxJQUFJLEdBQUcsSUFBSSxJQUFJLE1BQU0sQ0FBQztJQUV0QixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQzNDLENBQUMifQ==