import * as stdColors from "https://deno.land/std@0.97.0/fmt/colors.ts";
const proto = Object.create(null);
const methodNames = Object.keys(stdColors);
for (const name of methodNames) {
    if (name === "setColorEnabled" || name === "getColorEnabled") {
        continue;
    }
    Object.defineProperty(proto, name, {
        get() {
            return factory([...this._stack, name]);
        },
    });
}
export const colors = factory();
function factory(stack = []) {
    const colors = function (str, ...args) {
        if (str) {
            const lastIndex = stack.length - 1;
            return stack.reduce((str, name, index) => index === lastIndex
                ? stdColors[name](str, ...args)
                : stdColors[name](str), str);
        }
        const tmp = stack.slice();
        stack = [];
        return factory(tmp);
    };
    Object.setPrototypeOf(colors, proto);
    colors._stack = stack;
    return colors;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY29sb3JzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxTQUFTLE1BQU0sNENBQTRDLENBQUM7QUF3QnhFLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEMsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQXlCLENBQUM7QUFDbkUsS0FBSyxNQUFNLElBQUksSUFBSSxXQUFXLEVBQUU7SUFDOUIsSUFBSSxJQUFJLEtBQUssaUJBQWlCLElBQUksSUFBSSxLQUFLLGlCQUFpQixFQUFFO1FBQzVELFNBQVM7S0FDVjtJQUNELE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRTtRQUNqQyxHQUFHO1lBQ0QsT0FBTyxPQUFPLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN6QyxDQUFDO0tBQ0YsQ0FBQyxDQUFDO0NBQ0o7QUFFRCxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQVcsT0FBTyxFQUFFLENBQUM7QUFheEMsU0FBUyxPQUFPLENBQUMsUUFBNkIsRUFBRTtJQUM5QyxNQUFNLE1BQU0sR0FBVyxVQUVyQixHQUFZLEVBQ1osR0FBRyxJQUFvQjtRQUV2QixJQUFJLEdBQUcsRUFBRTtZQUNQLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBQ25DLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FDakIsQ0FBQyxHQUFXLEVBQUUsSUFBbUIsRUFBRSxLQUFhLEVBQUUsRUFBRSxDQUNsRCxLQUFLLEtBQUssU0FBUztnQkFDakIsQ0FBQyxDQUFFLFNBQVMsQ0FBQyxJQUFJLENBQWlCLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDO2dCQUNoRCxDQUFDLENBQUUsU0FBUyxDQUFDLElBQUksQ0FBaUIsQ0FBQyxHQUFHLENBQUMsRUFDM0MsR0FBRyxDQUNKLENBQUM7U0FDSDtRQUNELE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUMxQixLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ1gsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEIsQ0FBVyxDQUFDO0lBRVosTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDckMsTUFBTSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDdEIsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyJ9